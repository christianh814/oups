# How to test this image

Build it

```shell
podman build -t test-keepalived .
```

Get sample `vars.yaml` file.

```shell
wget https://raw.githubusercontent.com/RedHatWorkshops/ocp4-helpernode/helperpod/vars.yaml -O /tmp/vars.yaml
```

Run it

```shell
podman run -id -e=HELPERPOD_CONFIG_YAML=$(base64 -w0 < /tmp/vars.yaml) --net host --privileged --name=test-keepalived test-keepalived
```

Check the yaml

```shell
podman exec -it test-keepalived cat /opt/helpernode/etc/helper.yaml
```

Check the config

```shell
podman exec -it test-keepalived cat /etc/keepalived/keepalived.conf
```

Have a look around

```shell
podman exec -it test-keepalived bash
```

##
